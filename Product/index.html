<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">

	<link rel="stylesheet" href="../styles/fonts.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- <link rel="stylesheet" href="../styles/style.css"> -->
	<link rel="stylesheet" href="../styles/main.css">
	<link rel="stylesheet" href="../styles/logo.css">
	<link rel="stylesheet" href="../styles/menu-icon.css">
	<link rel="stylesheet" href="../styles/footer.css">
	<link rel="stylesheet" href="../styles/scroll_bar.css">
	<link rel="stylesheet" href="../styles/content.css">

    <link rel="shortcut icon" type="image/x-icon" href="../assets/icon.ico?">

	<script src="../javascript/main.js"></script>

	<title></title>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q35492K8WM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q35492K8WM');
</script>
<body class="products-page-pattern">
	<!-- <div class="header"> -->
		<!-- <div class="product-page-container"> -->
			<div class="products-page-navbar">
				<!-- <p class="text-logo" onclick='OpenLink("main", "_self")'>شهيوات الحاجة زهرة</p> -->
				<p class="text-logo" onclick='window.open("../", "_self")'>شهيوات الحاجة زهرة</p>
				
				<div class="menu-icon" onclick="menutoggle()">
					<div class="menu-icon-bar" id="top-menu-icon-bar"></div>
					<div class="menu-icon-bar" id="mid-menu-icon-bar"></div>
					<div class="menu-icon-bar" id="bot-menu-icon-bar"></div>
				</div>
			</div>

			<div class="menu-navbar">
				<nav>
					<ul id="MenuItems">
						<li><a href="../">SWEETS</a></li>
						<li><a href="../Products">SNACKS</a></li>
						<li><a href="#">GROCERY</a></li>
						<li><a href="../">PICKLES</a></li>
						<li><a href="../Products">BAKERY</a></li>

						<li><a href="../">Accueil</a></li>
						<li><a href="../Products">Produits</a></li>
						<!-- <li><a href="#">Nouveautés</a></li> -->
						<!-- <li><a href="#">Promotions</a></li> -->
						<!-- <li><a href="#">Meilleures ventes</a></li> -->
						<li><a href="#">À propos</a></li>
					</ul>
				</nav>
			</div>

		</div>
	<!-- </div> -->

	<!-- ---------------- single product details ---------------- -->

	<div class="small-container single-product" style="max-width: 1480px;">
		<div class="product-row">
			<div class="col-2" style="max-width: 480px;">
				<!-- <div style="margin-top: -70px;"> -->
				<div>
					<!-- <div class="en-stock promo">-20%</div> -->
					<!-- <div class="en-stock">En stock</div> -->
					<div></div>
					<div></div>
				<!-- <img src="../images/gallery-1.jpg" id="product-img"> -->
							<img id="product-img">
				</div>

				<div class="small-img-row">
					<!-- <div class="small-img-col">
						<img src="../images/gallery-1.jpg" class="small-img" width="100%">
					</div>
					<div class="small-img-col">
						<img src="../images/gallery-2.jpg" class="small-img" width="100%">
					</div>
					<div class="small-img-col">
						<img src="../images/gallery-3.jpg" class="small-img" width="100%">
					</div>
					<div class="small-img-col">
						<img src="../images/gallery-4.jpg" class="small-img" width="100%">
					</div> -->
				</div>
			</div>
			<div class="col-2" style="max-width: 480px;">
				<!-- <p>Home / T-Shirt</p> -->
				<p></p>
				<h1></h1>
				<h4></h4>

				<!-- <select>
					<option>Select Size</option>
					<option>XXL</option>
					<option>XL</option>
					<option>Large</option>
					<option>Medium</option>
					<option>Small</option>
				</select> -->

				<!-- <input type="number" value="1"> -->
				<div class="">
				</div>

				<!-- <div class="input-container">
					<button id="input-decrement-btn" onclick="stepper(this)"> - </button>
					<input type="text" min="1" max="10" value="1" id="input" readonly>
					<button id="input-increment-btn" onclick="stepper(this)"> + </button>
				</div> -->

				<!-- <a href="" class="add-to-cart-btn">Ajouter au panier</a> -->
				<a onclick='OpenLink("wa", "_self", 1)' class="add-to-cart-btn">Commander</a>
				<!-- <h3>Details du produit <span class="fa fa-indent"></span></h3> -->
				<h3></h3>
				<br>
				<p></p>
			</div>
		</div>
	</div>

	<!-- ------------------ title ------------------ -->


	<div class="small-container">
		<div class="row row-2">
			<h2>Produits associés</h2>
			<p>Voir plus</p>
		</div>		
	</div>

	<!-- ----------- products ----------- -->

	<div class="small-container more">

		<!-- <div class="row">
			<div class="col-4">
				<img src="../images/product-1.jpg">
				<h4>Red Printed T-Shirt</h4>
				<p>$50.00</p>
			</div>
		</div> -->

	</div>

	<!-- ---------------- footer --------------- -->
	
	<footer class="footer">
		<div class="footer-container" style="max-width: 700px;">
			<div class="footer-row">
				<div class="footer-col">
					<h4>Société</h4>
					<ul>
						<li><a href="#">À propos</a></li>
						<li><a href="#">Nos Services</a></li>
						<li><a href="#">Options de Paiement</a></li>
						<!-- <li><a href="#">Privacy Policy</a></li> -->
						<!-- <li><a href="#">Affiliate Program</a></li> -->
					</ul>
				</div>

				<div class="footer-col">
					<h4>Support</h4>
					<ul>
						<!-- <li><a href="#">FAQ</a></li> -->
						<li><a href="#">Livraison</a></li>
						<li><a href="#">Retours</a></li>
						<li><a href="#">Statut de la Commande</a></li>
					</ul>
				</div>

				<!-- <div class="footer-col">
					<h4>Online Shop</h4>
					<ul>
						<li><a href="#">Watch</a></li>
						<li><a href="#">Bags</a></li>
						<li><a href="#">Shoes</a></li>
						<li><a href="#">Dress</a>
					</ul>
				</div> -->

				<!-- https://glovoapp.com/ in french  -->
				<!-- <div class="footer-col">
					<h4>Liens utiles</h4>
					<ul>
					</ul>
				</div> -->

				<div class="footer-col">
					<!-- <h4>Nous suivre</h4> -->
					<h4>Nous contacter</h4>
					<ul>
						<div class="social-links">

							<a onclick='OpenLink("wa", "_self")' id="wa-icon"><span class="fa fa-whatsapp"></span></a>
							<a onclick='OpenLink("fb", "_blank")' id="fb-icon"><span class="fa fa-facebook-f"></span></a>
							<a onclick='OpenLink("ig", "_blank")' id="ig-icon"><span class="fa fa-instagram"></span></a>

							<!-- <a target="_blank" href="#" id="tw-icon"><span class="fa fa-twitter"></span></a> -->
							<!-- <a target="_blank" href="#" id="li-icon"><span class="fa fa-linkedin"></span></a> -->

							<!-- <a target="_blank" href="#" id="ig-icon">
								<div class="ig-icon-bg">
									<div class="ig-icon-inner">
								    	<span class="fa fa-instagram"></span>
									</div>
								</div>
							</a> -->
						</div>
					</ul>
				</div>
			</div>
		</div>

		<br>

		<div class="container">
			<hr>

			<!-- <br> -->

			<div class="footer-container">
				<div class="footer-row">
					<div class="footer-col" style="margin-bottom: 5px;">
						<!-- <h4>Follow Us</h4> -->
						<div class="social-links">

							<a onclick='OpenLink("wa", "_self")' id="wa-icon"><span class="fa fa-whatsapp"></span></a>
							<a onclick='OpenLink("fb", "_blank")' id="fb-icon"><span class="fa fa-facebook-f"></span></a>
							<a onclick='OpenLink("ig", "_blank")' id="ig-icon"><span class="fa fa-instagram"></span></a>

							<!-- <a target="_blank" href="#" id="tw-icon"><span class="fa fa-twitter"></span></a> -->
							<!-- <a target="_blank" href="#" id="li-icon"><span class="fa fa-linkedin"></span></a> -->

							<!-- <a target="_blank" href="#" id="ig-icon">
								<div class="ig-icon-bg">
									<div class="ig-icon-inner">
								    	<span class="fa fa-instagram"></span>
									</div>
								</div>
							</a> -->

						</div>
					</div>
				</div>
			</div>

			<!-- <br> -->
			<!-- <br> -->
			<!-- <br> -->

			<div style="display: flex;">
				<svg aria-hidden="true" focusable="false" viewBox="0 0 24 24" role="img" width="18px" height="15px" fill="none">
					<path fill="#fff" fill-rule="evenodd" d="M4.5 9.001a7.5 7.5 0 1115 0c0 1.205-.385 2.576-.934 3.928-.555 1.364-1.302 2.767-2.08 4.055a39.918 39.918 0 01-2.307 3.405c-.688.905-1.316 1.632-1.711 1.947a.75.75 0 01-.936 0c-.395-.315-1.023-1.042-1.711-1.947a39.916 39.916 0 01-2.306-3.405c-.78-1.288-1.526-2.691-2.08-4.056-.55-1.351-.935-2.722-.935-3.927zM12 12.25a3.25 3.25 0 100-6.5 3.25 3.25 0 000 6.5z" clip-rule="evenodd"></path>
				</svg>
				<span style="color: #fff; margin: -2px 14px 0 2px;">Maroc</span>
				<p class="copyright" style="margin: -2px 0;">© 2023 شهيوات الحاجة زهرة.</p>
			</div>

		</div>
	</footer>

	<!-- ------------------------ js for toggle menu ---------------------- -->

	<script type="text/javascript">

		function getRng(nums)
		{
			let rng = Math.floor(Math.random() * (products.length-1));
			if(!nums.includes(rng))
				nums.push(rng);
			else
				getRng(nums);
			return rng;
		}

		addProducts();

		function addProducts()
		{
			var small_container_Element = document.getElementsByClassName('small-container more')[0];

			for(var j=0; j<1;j++)
			{
				var row_Element = CreateElement('div', 'row', small_container_Element);
					let nums = [];
					
					for(var i=1; i<5; i++)
					{
						let num = getRng(nums);
						
						var col_4_Element = CreateElement('div', 'col-4', row_Element);

						const __url = location.protocol + '//' + location.host;
						var _a = CreateElement('a', '', col_4_Element);
						_a.href=__url+"/Product"+"?"+"id="+products[num].id;

						var _div_parent = CreateElement('div', '', _a);
						// _div_parent.style="margin-top: -43px;";

						// CreateElement('div', 'en-stock', _div_parent).innerText='En stock';
						// CreateElement('div', 'en-stock promo', _div_parent).innerText='-20%';

							const _product = products[num];
							col_4_Element.id=_product.id;
							CreateElement('img', '', _div_parent).src = _product.img_src;
							CreateElement('h4', '', _a).innerHTML = _product.name.includes("produit")?"":_product.name;
							// CreateElement('p', '', _a).innerHTML = _product.price+" DH";
					}
			}
		}


















		const _input = document.getElementById("input");
		function stepper(btn)
		{
			let id = btn.getAttribute("id");
			let min = _input.getAttribute("min");
			let max = _input.getAttribute("max");
			let val = _input.getAttribute("value");
			let calcStep = (id == "input-increment-btn") ? 1 : -1;
			let newValue = parseInt(val)+calcStep;

			if(newValue>=min && newValue<=max)
				_input.setAttribute("value", newValue);
		}

		const urlParams = new URLSearchParams(window.location.search);
		const curr_product = products.find(product => product.id==urlParams.get('id'));
		if(curr_product==null)
		{
			// set a white cover (that get removed if the product is valid) so that the frame of the broken product page that shows up for a split second doesnt even show up
			window.location.href = main_url_+"/404";
		}

		// document.title = curr_product.name + ' - Digital Agadir';
		document.title = "شهيوات الحاجة زهرة - " + curr_product.name;

		var _row = document.getElementsByClassName('small-container single-product')[0].children[0];
		_row.children[1].children[1].innerText =  curr_product.name.includes("produit")?"":curr_product.name; // h1 : product name
		// _row.children[1].children[2].innerText = curr_product.price+" DH"; // h4 : product price
		// _row.children[1].children[8].innerText = curr_product.product_details_descriptions; // p : product description
		// _row.children[1].children[7].innerText = curr_product.name.includes("produit")?"":curr_product.product_details_descriptions; // p : product description // select size got removed

		_row.children[0].children[0].children[2].src = curr_product.product_details_imgs[0];
		
		var _row2 = _row.children[0].children[1];

			const _children = [];

			// for(var i=0; i<4; i++) {
			// 	_row2.removeChild(_row2.children[0]);
			// }
			
			for(var i=0; i<curr_product.product_details_imgs.length; i++) {
				var col = CreateElement('div', 'small-img-col', _row2);
				var img = CreateElement('img', 'small-img', col).style = "width: 100%";
			}

			for(var i=0; i<_row2.children.length; i++) {
				_children.push(_row2.children[i]);
			}

			if(curr_product.product_details_imgs[0]!=null&&curr_product.product_details_imgs.length>1)
				_children[0].children[0].src = curr_product.product_details_imgs[0];
			else
				_row2.removeChild(_children[0]);

			for(var i=1; i<_row2.children.length; i++) {
				var child = _children[i];
				console.log(child);
				if(child==null)
					continue;
				if(curr_product.product_details_imgs[1]!=null)
					child.children[0].src = curr_product.product_details_imgs[i];
				else
					_row2.removeChild(child);
			}

		// Get the root element
		var r = document.querySelector(':root');

		// // Create a function for getting a variable value
		// function myFunction_get() {
		//   // Get the styles (properties and values) for the root
		//   var rs = getComputedStyle(r);
		//   // Alert the value of the --blue variable
		//   alert("The value of --blue is: " + rs.getPropertyValue('--blue'));
		// }

		// Create a function for setting a variable value
		// function myFunction_set() {
		  // Set the value of variable --blue to another value (in this case "lightblue")
		  // r.style.setProperty('--product-imgs-flex-basis', '0%');
		  var percentage = ((100/curr_product.product_details_imgs.length)-(10/curr_product.product_details_imgs.length));
		  r.style.setProperty('--product-imgs-flex-basis', percentage+'%');
		// }

		// ------------------ js for product gallery ---------------------

		var product_img = document.getElementById("product-img");
		var small_imgs = document.getElementsByClassName("small-img");

		for (let small_img of small_imgs)
		{
			small_img.onclick = function()
			{
				// product_img.classList.toggle("transparent");
				product_img.src=small_img.src;
			}
		}









		var MenuItems = document.getElementById("MenuItems");
		MenuItems.style.maxHeight = "0px";

		function menutoggle()
		{
			if(MenuItems.style.maxHeight == "0px")
			{
				MenuItems.style.maxHeight = "100vh";
				// document.getElementById("Title").style.opacity = "0";
				// document.getElementById("exploreBtn").style.opacity = "0";
				// document.getElementById("logo").style.opacity = "0";
				// document.getElementById("social-links").style.opacity = "0";

				document.getElementById("top-menu-icon-bar").style.transform = "rotate(45deg) translate(25%, 125%)";
				document.getElementById("mid-menu-icon-bar").style.transition = "0s";
				document.getElementById("mid-menu-icon-bar").style.transform = "rotate(0deg)";
				document.getElementById("mid-menu-icon-bar").style.width = "0";
				document.getElementById("bot-menu-icon-bar").style.transform = "rotate(-45deg) translate(25%, -125%)";
			}
			else
			{
				MenuItems.style.maxHeight = "0px";
				// document.getElementById("Title").style.opacity = "1";
				// document.getElementById("exploreBtn").style.opacity = "1";
				// document.getElementById("logo").style.opacity = "1";
				// document.getElementById("social-links").style.opacity = "1";

				document.getElementById("top-menu-icon-bar").style.transform = "rotate(0deg)";
				document.getElementById("mid-menu-icon-bar").style.transition = "0.5s";
				document.getElementById("mid-menu-icon-bar").style.transform = "rotate(0deg)";
				document.getElementById("mid-menu-icon-bar").style.width = "35px";
				document.getElementById("bot-menu-icon-bar").style.transform = "rotate(0deg)";
			}
		}

	</script>

</body>
</html>