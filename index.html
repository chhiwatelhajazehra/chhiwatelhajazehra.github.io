<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="styles/fonts.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="styles/main.css">
	<link rel="stylesheet" href="styles/style.css">
	<link rel="stylesheet" href="styles/logo.css">
	<link rel="stylesheet" href="styles/menu-icon.css">
	<link rel="stylesheet" href="styles/footer.css">
	<link rel="stylesheet" href="styles/scroll_bar.css">
	<link rel="stylesheet" href="styles/content.css">
	<link rel="stylesheet" href="styles/explorebtn.css">
	<link rel="stylesheet" href="styles/widgets.css">
    <link rel="shortcut icon" type="image/x-icon" href="assets/icon.ico?">

	<script src="javascript/main.js"></script>

	<title>شهيوات الحاجة زهرة</title>
</head>
<body>

	<!-- <div class="cover">
		<p class="text-logo">شهيوات الحاجة زهرة</p>
		<div class="loader"></div>
	</div> -->

	<div class="header">
		<div class="container">
			<div class="home-page-navbar">
				<p class="text-logo" onclick='OpenLink("main", "_self")'>شهيوات الحاجة زهرة</p>
				<nav>
					<ul id="MenuItems">
						<li><a href="#">Accueil</a></li>
						<li><a href="Products">Produits</a></li>
						<!-- <li><a href="#">Nouveautés</a></li> -->
						<!-- <li><a href="#">Promotions</a></li> -->
						<!-- <li><a href="#">Meilleures ventes</a></li> -->
						<li><a href="#">À propos</a></li>
					</ul>
				</nav>
				<!-- <img src="assets/cart.png" width="30px" height="30px"> -->
				<div class="menu-icon" onclick="menutoggle()">
					<div class="menu-icon-bar" id="top-menu-icon-bar"></div>
					<div class="menu-icon-bar" id="mid-menu-icon-bar"></div>
					<div class="menu-icon-bar" id="bot-menu-icon-bar"></div>
				</div>
			</div>


			<div class="hero">
				<video hidden autoplay loop muted plays-inline playsinline preload="auto" class="back-video">
					<source src="assets/videos/video3n4.mp4" type="video/mp4">
				</video>
				<img id="video-poster-img" class="back-video" src="assets/frames/frame01.png">
				<div class="content">
					<h1 id="Title">شهيوات الحاجة زهرة</h1>
					<div class="explorebtn"><button type="button" onclick='OpenLink("ex", "_self")'><spanB></spanB>Commander</button></div>
				</div>
			</div>

			<div class="social-links elements-over-video" id="social-links">
				<p class="text-over-video copyright" id="text-over-video">©2023 شهيوات الحاجة زهرة.</p>

				<a class="icon-over-video" onclick='OpenLink("ig", "_blank")' id="ig-icon"><span class="fa fa-instagram"></span></a>
				<!-- https://fontawesome.com/icons/instagram?f=brands&s=solid -->
				<a class="icon-over-video" onclick='OpenLink("fb", "_blank")' id="fb-icon"><span class="fa fa-facebook-f"></span></a>
				<a class="icon-over-video" onclick='OpenLink("wa", "_self")' id="wa-icon"><span class="fa fa-whatsapp"></span></a>

			</div>

			<div class="whatsapp-widget">
			    <a onclick='OpenLink("wa", "_self")' class="whatsapp-link" title="Whatsapp">
			    	<span class="fa fa-whatsapp"></span>
			    </a>
			</div>

		</div>
	</div>

	<div class="other">
		
		<!-- ----------- featured categories ----------- -->

		<div class="categories">
			<div class="small-container">
				<div class="row">
					<div class="col-3">
						<img src="assets/food/yt/001_2.jpg">
					</div>

					<div class="col-3">
						<img src="assets/food/yt/006_4.jpg">
					</div>

					<div class="col-3">
						<img src="assets/food/yt/002_4.jpg">
					</div>
				</div>
			</div>
		</div>

		<!-- ----------- featured products ----------- -->

		<div class="small-container pop">
			<h2 class="title">Produits populaires</h2>
		</div>

		<!-- ----------- featured products ----------- -->

		<div class="small-container new">
			<h2 class="title">Nouveaux produits</h2>
		</div>

	</div>


	<!-- ---------------- footer --------------- -->

	<footer class="footer">
		<div class="footer-container" style="max-width: 700px;">
			<div class="footer-row">
				<div class="footer-col">
					<h4>Société</h4>
					<ul>
						<li><a href="#">À propos</a></li>
						<li><a href="#">Nos Services</a></li>
						<li><a href="#">Options de Paiement</a></li>
						<!-- <li><a href="#">Privacy Policy</a></li> -->
						<!-- <li><a href="#">Affiliate Program</a></li> -->
					</ul>
				</div>

				<div class="footer-col">
					<h4>Support</h4>
					<ul>
						<!-- <li><a href="#">FAQ</a></li> -->
						<li><a href="#">Livraison</a></li>
						<li><a href="#">Retours</a></li>
						<li><a href="#">Statut de la Commande</a></li>
					</ul>
				</div>

				<!-- <div class="footer-col">
					<h4>Online Shop</h4>
					<ul>
						<li><a href="#">Watch</a></li>
						<li><a href="#">Bags</a></li>
						<li><a href="#">Shoes</a></li>
						<li><a href="#">Dress</a>
					</ul>
				</div> -->

				<!-- https://glovoapp.com/ in french  -->
				<!-- <div class="footer-col">
					<h4>Liens utiles</h4>
					<ul>
					</ul>
				</div> -->

				<div class="footer-col">
					<!-- <h4>Nous suivre</h4> -->
					<h4>Nous contacter</h4>
					<ul>
						<div class="social-links">
							
							<a onclick='OpenLink("wa", "_self")' id="wa-icon"><span class="fa fa-whatsapp"></span></a>
							<a onclick='OpenLink("fb", "_blank")' id="fb-icon"><span class="fa fa-facebook-f"></span></a>
							<a onclick='OpenLink("ig", "_blank")' id="ig-icon"><span class="fa fa-instagram"></span></a>

							<!-- <a target="_blank" href="#" id="tw-icon"><span class="fa fa-twitter"></span></a> -->
							<!-- <a target="_blank" href="#" id="li-icon"><span class="fa fa-linkedin"></span></a> -->

							<!-- <a target="_blank" href="#" id="ig-icon">
								<div class="ig-icon-bg">
									<div class="ig-icon-inner">
								    	<span class="fa fa-instagram"></span>
									</div>
								</div>
							</a> -->
						</div>
					</ul>
				</div>
			</div>
		</div>
		
		<br>
		
		<div class="container">
			<hr>

			<!-- <br> -->

			<div class="footer-container">
				<div class="footer-row">
					<div class="footer-col" style="margin-bottom: 5px;">
						<!-- <h4>Follow Us</h4> -->
						<div class="social-links">

							<a onclick='OpenLink("wa", "_self")' id="wa-icon"><span class="fa fa-whatsapp"></span></a>
							<a onclick='OpenLink("fb", "_blank")' id="fb-icon"><span class="fa fa-facebook-f"></span></a>
							<a onclick='OpenLink("ig", "_blank")' id="ig-icon"><span class="fa fa-instagram"></span></a>

							<!-- <a target="_blank" href="#" id="tw-icon"><span class="fa fa-twitter"></span></a> -->
							<!-- <a target="_blank" href="#" id="li-icon"><span class="fa fa-linkedin"></span></a> -->

							<!-- <a target="_blank" href="#" id="ig-icon">
								<div class="ig-icon-bg">
									<div class="ig-icon-inner">
								    	<span class="fa fa-instagram"></span>
									</div>
								</div>
							</a> -->

						</div>
					</div>
				</div>
			</div>

			<!-- <br> -->
			<!-- <br> -->
			<!-- <br> -->

			<p class="copyright">©2023 شهيوات الحاجة زهرة.</p>
		</div>
	</footer>

	<!-- ------------------------ js for toggle menu ---------------------- -->

	<script type="text/javascript">

		// var video = document.getElementsByTagName('video')[0];
		// video.addEventListener("ended", (event) => {

		// 	if(video.getElementsByTagName('source')[0].src.includes("assets/videos/video3_edit2.mp4"))
		// 	{
		// 		video.setAttribute('poster', "assets/video4_edit_frame1.png");
		// 		video.getElementsByTagName('source')[0].src="assets/videos/video4_edit.mp4";
		// 	}
		// 	else if(video.getElementsByTagName('source')[0].src.includes("assets/videos/video4_edit.mp4"))
		// 	{
		// 		video.setAttribute('poster', "assets/video3_edit2_frame1.png");
		// 		video.getElementsByTagName('source')[0].src="assets/videos/video3_edit2.mp4";
		// 	}
		// 	video.load();
		// 	video.play();
		
		// });
		
		document.getElementById("social-links").style.marginTop = "-"+(parseInt(getComputedStyle(document.getElementById("fb-icon")).marginBottom)+parseInt(document.getElementById("fb-icon").offsetHeight))+"px";
		
		setInterval(function () {

			document.getElementById("social-links").style.marginTop = "-"+(parseInt(getComputedStyle(document.getElementById("fb-icon")).marginBottom)+parseInt(document.getElementById("fb-icon").offsetHeight))+"px";


			// var video = document.getElementsByClassName('back-video')[0];

			// if(video.paused)
			// {
			// 	video.load();
			// 	video.play();
			// }

			var video = document.getElementsByTagName('video')[0];
			var img = document.getElementById('video-poster-img');

			if(video!=null)
			{
				// if(video.readyState !== 0) // the video got some info
				// {
				// 	var loadedPercentage = video.buffered.end(0) / video.duration;
				// 	console.log(loadedPercentage);
				// }

				if(video.readyState === 4 
					// && document.getElementsByClassName('loader').length!=0
					)
				{
					img.hidden = true;
					video.hidden = false;
					// img.style.display = "none";
					// document.getElementsByClassName('loader')[0].style.display = "none";
					// document.getElementsByClassName('cover')[0].style.opacity = "0";
					// document.body.removeChild(document.getElementsByClassName('cover')[0]);
				}
			}


		}, 100);

		let img_roll_index = 0;

		let img_roll_update = setInterval(function () {

			var video = document.getElementsByTagName('video')[0];
			var img = document.getElementById('video-poster-img');
			let frames = [
			"assets/frames/frame01.png",
			"assets/frames/frame02.png",
			"assets/frames/frame03.png",
			"assets/frames/frame04.png",
			"assets/frames/frame05.png"
			];

			if(video!=null)
			{
				if(video.readyState !== 4)
				{

					// console.log(img_roll_index);
					if(img.src.includes(frames[img_roll_index]))
					{
						if(img_roll_index>=frames.length-1)
						{
							img_roll_index=-1;
						}
						img.src=frames[img_roll_index+1]+"?"+Date.now();
						img_roll_index++;
					}
					// console.log(img_roll_index);
				}
				else
				{
					clearInterval(img_roll_update);
				}
			}


		}, 5000);

		function customgetRng(nums, len)
		{
			let rng = Math.floor(Math.random() * len);
			if(!nums.includes(rng))
				nums.push(rng);
			else
				rng = customgetRng(nums, len);
			return rng;
		}


		let nums = [];

		generateProducts('small-container pop');
		generateProducts('small-container new');

		function generateProducts(container)
		{
			var small_container_Element = document.getElementsByClassName(container)[0];


			for(var j=0; j<1;j++)
			{
				var row_Element = CreateElement('div', 'row', small_container_Element);
					
					for(var i=0; i<4; i++)
					{
						let num = customgetRng(nums, 11);
						
						var col_4_Element = CreateElement('div', 'col-4', row_Element);

						const __url = location.protocol + '//' + location.host;
						var _a = CreateElement('a', '', col_4_Element);
						_a.href=__url+"/Product"+"?"+"id="+products[num+7].id;

						var _div_parent = CreateElement('div', '', _a);
						_div_parent.style="margin-top: -43px;";

						// CreateElement('div', 'en-stock', _div_parent).innerText='En stock';
						// CreateElement('div', 'en-stock promo', _div_parent).innerText='-20%';

							const _product = products[num+7];
							col_4_Element.id=_product.id;
							CreateElement('img', '', _div_parent).src = _product.img_src;
							CreateElement('h4', '', _a).innerHTML = _product.name;
							CreateElement('p', '', _a).innerHTML = _product.price+" DH";
					}
			}
		}











		var MenuItems = document.getElementById("MenuItems");
		MenuItems.style.maxHeight = "0px";

		function menutoggle()
		{
			if(MenuItems.style.maxHeight == "0px")
			{
				MenuItems.style.maxHeight = "100vh";
				document.getElementById("Title").style.opacity = "0";
				document.getElementsByClassName("explorebtn")[0].style.opacity = "0";
				document.getElementsByClassName("text-logo")[0].style.opacity = "0";
				document.getElementById("social-links").style.opacity = "0";

				document.getElementById("top-menu-icon-bar").style.transform = "rotate(45deg) translate(25%, 125%)";
				document.getElementById("mid-menu-icon-bar").style.transition = "0s";
				document.getElementById("mid-menu-icon-bar").style.transform = "rotate(0deg)";
				document.getElementById("mid-menu-icon-bar").style.width = "0";
				// document.getElementById("mid-menu-icon-bar").style.opacity = "0";
				document.getElementById("bot-menu-icon-bar").style.transform = "rotate(-45deg) translate(25%, -125%)";
			}
			else
			{
				MenuItems.style.maxHeight = "0px";
				document.getElementById("Title").style.opacity = "1";
				document.getElementsByClassName("explorebtn")[0].style.opacity = "1";
				document.getElementsByClassName("text-logo")[0].style.opacity = "1";
				document.getElementById("social-links").style.opacity = "1";

				document.getElementById("top-menu-icon-bar").style.transform = "rotate(0deg)";
				document.getElementById("mid-menu-icon-bar").style.transition = "0.5s";
				document.getElementById("mid-menu-icon-bar").style.transform = "rotate(0deg)";
				document.getElementById("mid-menu-icon-bar").style.width = "35px";
				// document.getElementById("mid-menu-icon-bar").style.opacity = "1";
				document.getElementById("bot-menu-icon-bar").style.transform = "rotate(0deg)";
			}
		}

		if(document.fullscreenEnabled)
		{
			// hide scrollbar
		}

	</script>

</body>
</html>